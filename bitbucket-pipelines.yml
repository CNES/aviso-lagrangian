image: continuumio/miniconda3

pipelines:
  default:
    - step:
        script:
          - conda install -y cython libboost libnetcdf netcdf4 numpy python-dateutil setuptools udunits2
          - conda install -y -c conda-forge cxx-compiler
          - git submodule update --init
          - CXXFLAGS="-I/opt/conda/include" LDFLAGS="-L/opt/conda/lib" python setup.py build --parallel $(getconf _NPROCESSORS_ONLN)
